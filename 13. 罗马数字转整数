class Solution {
public:
    int romanToInt(string s) {
	int result = 0;
	string::size_type size = s.size();
	map<char, int> a_map;
	a_map['M'] = 1000;
	a_map['D'] = 500;
	a_map['C'] = 100;
	a_map['L'] = 50;
	a_map['X'] = 10;
	a_map['V'] = 5;
	a_map['I'] = 1;
	for (string::size_type i = 0; i != size; ++i)
	{
		if (i < size - 1 && a_map[s[i]] < a_map[s[i + 1]])
			result -= a_map[s[i]];
		else
		    result += a_map[s[i]];
	}
	return result;
}
};
